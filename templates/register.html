<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <!--javascript extensions-->
    <script src='../static/js/vue.min.js'></script>
    <script src='../static/js/axios.min.js'></script>
    <script src="../static/js/jquery-3.6.1.min.js"></script>

    <!--Css-->
    <link rel="stylesheet" href='../static/css/home.css'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">

    <!--Bootstrap 5-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div id="register">
        <div class="container my-5">
            <div class="row justify-content-center">
              <div class="col-lg-6">
                <div class="card">
                  <div class="card-body">
                    <form method="POST" action="/">
                      <a href="{% url 'home' %}">
                        <h2 class="text-center mb-4" style="text-decoration: none; color: black; font-size:2em;">
                            MoHome
                        </h2>
                      </a>
                        <div class="mb-3">
                            <label for="username" class="form-label">User Name</label>
                            <input v-bind:value="username" type="text" class="form-control" id="username" required="required">
                        </div>
                        <div class="mb-3">
                            <label for="firstname" class="form-label">First Name</label>
                            <input v-bind:value="firstname" type="text" class="form-control" id="firstname" required="required">
                        </div>
                        <div class="mb-3">
                            <label for="lastname" class="form-label">Last Name</label>
                            <input v-bind:value="lastname" type="text" class="form-control" id="lastname" required="required">
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input v-bind:value="email" type="email" class="form-control" id="email" required="required">
                        </div>

                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input v-bind:value="password" type="password" class="form-control" id="password" required="required">
                        </div>

                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                            <input v-bind:value="confirmPassword" type="password" class="form-control" id="confirmPassword" required="required">
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary" v-on:click="register">Register</button>
                        </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
    </div>
</body>
      <script>
          var register = new Vue({
              el: '#register',
              header: {"Content-Type": "application/json"},
              data: {
                  firstname: "Micheal",
                  lastname: "Jordan",
                  username: "Jordan123",
                  email: "Jordan123@gmail.com",
                  password: "Jordan-123",
                  confirmPassword: "Jordan-123",
              },
              methods: {
                  register: function (){
                      console.log("register start");
                      if (this.password !== this.confirmPassword) {
                          alert("The Password IS DIFFERENT THAN CONFIRM PASSWORD!");
                      } else {
                          console.log("register start");

                          const data = {
                              firstname: this.firstname,
                              lastname: this.lastname,
                              username: this.username,
                              email: this.email,
                              password: this.password,
                              confirmPassword: this.confirmPassword
                          }
                          axios.post("/register", data)
                              .then(res => {
                                  console.log(res);
                              })
                              .catch(error => {
                                  console.log(error);
                              })
                          }
                      }
                  },
                  delimiters: ["{[", "]}"],
              }
          ).$mount("#register")
      </script>
</html>
